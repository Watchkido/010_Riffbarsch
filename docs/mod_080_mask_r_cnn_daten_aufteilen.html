<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mask R-CNN Datenaufteilung - mod_080_mask_r_cnn_daten_aufteilen.py</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #212529;
            line-height: 1.6;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .header {
            background: linear-gradient(135deg, #2ed573 0%, #26d0ce 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5em;
            font-weight: 700;
        }
        .header p {
            margin: 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .section {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        .visual-side {
            flex: 1;
            background: linear-gradient(45deg, #f1f3f4, #e8eaed);
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #5f6368;
            font-size: 1.1em;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .visual-side::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="%23e0e0e0" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>') repeat;
            opacity: 0.3;
        }
        .visual-placeholder {
            background: rgba(255,255,255,0.8);
            padding: 20px;
            border-radius: 10px;
            border: 2px dashed #dadce0;
            position: relative;
            z-index: 1;
        }
        .content-side {
            flex: 1;
            padding: 40px;
        }
        .content-side h2 {
            color: #1a73e8;
            margin: 0 0 20px 0;
            font-size: 1.8em;
            font-weight: 600;
        }
        .content-side h3 {
            color: #333;
            margin: 25px 0 15px 0;
            font-size: 1.3em;
            font-weight: 600;
        }
        .content-side p {
            color: #5f6368;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        .content-side ul {
            color: #5f6368;
            line-height: 1.6;
            margin: 15px 0;
            padding-left: 20px;
        }
        .content-side li {
            margin-bottom: 8px;
        }
        .highlight {
            background: linear-gradient(135deg, #e8f0fe, #f8f9ff);
            border-left: 4px solid #1a73e8;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .metric {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #2ed573;
        }
        .metric-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2ed573;
            display: block;
        }
        .metric-label {
            font-size: 0.9em;
            color: #666;
            margin-top: 8px;
        }
        @media (max-width: 768px) {
            .section {
                flex-direction: column;
            }
            .container {
                max-width: 100%;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Modul 080 - Mask R-CNN Datenaufteilung</h1>
            <p>Intelligente Dataset-Vorbereitung für Instance Segmentation</p>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    Multi-Source Dataset Organization<br>
                    70/15/15 Split Visualisierung<br>
                    Dataset-Statistiken Balkendiagramm<br>
                    Timestamp-Naming System
                </div>
            </div>
            <div class="content-side">
                <h2>Was macht dieses Modul?</h2>
                <p>
                    Dieses Modul bereitet Bilddaten für Mask R-CNN Training vor durch intelligente Dataset Split-Strategie und Timestamp-basierte Namensgebung.
                </p>
                <div class="highlight">
                    <strong>Einfach erklärt:</strong> Stell dir vor, du musst für eine KI-Prüfung Karteikarten sortieren - 70% zum Lernen, 15% zum Üben, 15% für die finale Prüfung. Das Programm macht genau das mit Bildern und gibt jedem einen einzigartigen Namen mit Zeitstempel.
                </div>
                
                <h3>Multi-Source Dataset Integration</h3>
                <p>Das System sammelt Bilder aus mehreren Ordnern pro Klasse ein:</p>
                <ul>
                    <li><strong>riffbarsch:</strong> Basis-Riffbarsch Bilder</li>
                    <li><strong>riffbarsch_extra:</strong> Zusätzliche Riffbarsch Varianten</li>
                    <li><strong>riffbarsch_augmentation:</strong> Augmentierte Versionen</li>
                    <li><strong>taucher:</strong> Basis-Taucher Bilder</li>
                    <li><strong>taucher_extra:</strong> Zusätzliche Taucher Varianten</li>
                </ul>
                
                <div class="highlight">
                    <strong>Clean Slate Approach:</strong> Komplette Löschung des Zielordners vor jeder Ausführung verhindert Duplikate und gewährleistet konsistente Dataset-Struktur
                </div>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    70/15/15 Split Strategie<br>
                    Train/Val/Test Distribution<br>
                    Balanced Class Sampling
                </div>
            </div>
            <div class="content-side">
                <h2>Split Strategie</h2>
                <p>Optimale Aufteilung für Machine Learning Training:</p>
                
                <div class="metrics">
                    <div class="metric">
                        <span class="metric-value">70%</span>
                        <div class="metric-label">Training</div>
                    </div>
                    <div class="metric">
                        <span class="metric-value">15%</span>
                        <div class="metric-label">Validation</div>
                    </div>
                    <div class="metric">
                        <span class="metric-value">15%</span>
                        <div class="metric-label">Test</div>
                    </div>
                </div>
                
                <h3>Naming System</h3>
                <div class="highlight">
                    <strong>Format:</strong> [klasse]_[YYYYMMDD]_[HHMMSS]_[counter].[extension]<br>
                    <strong>Beispiel:</strong> riffbarsch_20250926_143022_1.jpg<br>
                    <strong>Global Counter:</strong> Durchlaufende Nummerierung über alle Klassen hinweg
                </div>
                
                <p>Jede Klasse wird separat gesplittet um Klassenbalance in allen Sets zu gewährleisten.</p>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    5-Stufen Pipeline<br>
                    Directory Cleanup Process<br>
                    Automated File Processing
                </div>
            </div>
            <div class="content-side">
                <h2>5-Stufen Verarbeitungspipeline</h2>
                <div class="highlight">
                    <strong>Automatisierte Verarbeitung:</strong> Vollständig automatisierte Pipeline von der Quelldatensammlung bis zur finalen Mask R-CNN-kompatiblen Struktur
                </div>
                
                <ol>
                    <li><strong>Directory Cleanup:</strong> Radikale Löschung des Zielordners mit shutil.rmtree()</li>
                    <li><strong>Structure Recreation:</strong> Automatische Erstellung der Train/Val/Test Hierarchie</li>
                    <li><strong>Image Collection:</strong> Rekursives Sammeln aller .jpg/.jpeg/.png Dateien</li>
                    <li><strong>Random Shuffle & Split:</strong> Klassenweise Mischung und 70/15/15 Aufteilung</li>
                    <li><strong>Timestamp Copy:</strong> Datei-Kopierung mit eindeutiger Zeitstempel-Benennung</li>
                </ol>
                
                <p>Stream-basierte Verarbeitung ermöglicht Handling tausender Bilder ohne Speicher-Engpässe.</p>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    Mask R-CNN Directory Tree<br>
                    Instance Segmentation Structure<br>
                    Processing Statistics
                </div>
            </div>
            <div class="content-side">
                <h2>Mask R-CNN Spezifikationen</h2>
                <div class="highlight">
                    <strong>Instance Segmentation Vorbereitung:</strong> Optimierte Datenorganisation für pixelgenaue Objekterkennung und -segmentierung
                </div>
                
                <h3>Resultierende Directory-Struktur</h3>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-family: monospace; font-size: 0.9em; margin: 15px 0; border-left: 4px solid #2ed573;">
maskrcnn_data/<br>
├── train/<br>
│   ├── riffbarsch/<br>
│   │   ├── riffbarsch_20250926_143022_1.jpg<br>
│   │   ├── riffbarsch_20250926_143022_2.png<br>
│   │   └── ...<br>
│   └── taucher/<br>
│       ├── taucher_20250926_143022_15.jpg<br>
│       └── ...<br>
├── val/<br>
│   ├── riffbarsch/<br>
│   └── taucher/<br>
└── test/<br>
    ├── riffbarsch/<br>
    └── taucher/
                </div>
                
                <h3>Processing Statistiken</h3>
                <div class="metrics">
                    <div class="metric">
                        <span class="metric-value">&lt; 5s</span>
                        <div class="metric-label">Processing Time</div>
                    </div>
                    <div class="metric">
                        <span class="metric-value">13K+</span>
                        <div class="metric-label">Images Processed</div>
                    </div>
                    <div class="metric">
                        <span class="metric-value">100%</span>
                        <div class="metric-label">Success Rate</div>
                    </div>
                    <div class="metric">
                        <span class="metric-value">0</span>
                        <div class="metric-label">Data Loss</div>
                    </div>
                </div>
                
                <div class="highlight">
                    <strong>Warum diese Struktur?</strong> Mask R-CNN erwartet eine klare Ordnerstruktur mit klassenbasierten Unterordnern für effizientes Training. Die Zeitstempel-Benennung verhindert Namenskonflikte bei mehrfachen Ausführungen und Clean Slate Ansatz garantiert identische Ergebnisse bei jeder Ausführung, essentiell für wissenschaftlich reproduzierbare Experimente.
                </div>
            </div>
        </div>
    </div>
</body>
</html>