<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul 050: ResNet18 Deep Learning Training</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #212529;
            line-height: 1.6;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .header {
            background: linear-gradient(135deg, #00cec9 0%, #00a3c4 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 2.5em;
            font-weight: 700;
        }
        .header p {
            margin: 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .section {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        .visual-side {
            flex: 1;
            background: linear-gradient(135deg, #00cec9 0%, #00a3c4 100%);
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            text-align: center;
            color: white;
        }
        .visual-placeholder {
            background: rgba(255,255,255,0.2);
            border: 2px dashed rgba(255,255,255,0.6);
            border-radius: 10px;
            padding: 60px 20px;
            margin: 20px;
            backdrop-filter: blur(5px);
        }
        .visual-placeholder h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        .visual-placeholder p {
            opacity: 0.9;
        }
        .content-side {
            flex: 1;
            padding: 40px;
        }
        .content-side h2 {
            color: #00cec9;
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: 600;
        }
        .badge {
            display: inline-block;
            background: linear-gradient(45deg, #00cec9, #00a3c4);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            margin: 2px;
        }
        .explanation {
            background: #e8f8f8;
            border-left: 4px solid #00cec9;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .explanation strong {
            color: #00a3c4;
        }
        .step-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            transition: transform 0.2s;
        }
        .step-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .step-number {
            background: linear-gradient(45deg, #00cec9, #00a3c4);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        .code-snippet {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
            margin: 15px 0;
        }
        .highlight {
            background: linear-gradient(45deg, rgba(0,206,201,0.1), rgba(0,163,196,0.1));
            border: 1px solid #00cec9;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        @media (max-width: 968px) {
            .section {
                flex-direction: column;
            }
            .visual-side {
                min-height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß† Modul 050: ResNet18 Deep Learning Training</h1>
            <p>Vollautomatische Computer Vision Pipeline mit PyTorch & Erweiterten Analysen</p>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    <h3>üß† ResNet18 Architektur</h3>
                    <p>üèóÔ∏è Residual Network Struktur<br>üìä Training vs Validation Kurven<br>üéØ Confusion Matrix Heatmap<br>üìà ROC & Precision-Recall Kurven<br>üî• Grad-CAM Aktivierungskarten<br>üì∏ Beispielbilder mit Predictions<br>‚ùå Falsch klassifizierte Beispiele</p>
                </div>
            </div>
            <div class="content-side">
                <h2>üéØ Was macht dieses Modul?</h2>
                <p>Dieses Modul implementiert eine vollst√§ndige <span class="badge">Deep Learning Training Pipeline</span> mit <span class="badge">Transfer Learning</span> basierend auf ResNet18/50 f√ºr Multi-Class Image Classification.</p>
                <div class="explanation">
                    <strong>Einfach erkl√§rt:</strong> Das Programm nimmt ein bereits intelligentes "Gehirn" (ResNet), das schon Millionen von Bildern gesehen hat, und trainiert es speziell f√ºr unsere Riffbarsch-Erkennung. Wie wenn du einem Experten f√ºr Tiere beibringst, speziell Riffbarsche zu unterscheiden - er hat schon das Grundwissen, muss nur die Details lernen!
                </div>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    <h3>üèóÔ∏è ResNet Architektur</h3>
                    <p>Input Layer: 224√ó224√ó3 RGB<br>Conv2d + BN: Feature Extraktion<br>Layer 1-4: Residual Blocks<br>AdaptivePool: Global Pooling<br>FC Layer: 3 Klassen Output<br><br>Skip Connections erm√∂glichen<br>Training sehr tiefer Netzwerke</p>
                </div>
            </div>
            <div class="content-side">
                <h2>üèóÔ∏è ResNet Architektur</h2>
                <div class="highlight">
                    <h4>üß† Residual Network Struktur</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 15px 0;">
                        <div style="background: #00cec9; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">Input Layer</div>
                            <div style="font-size: 0.9em;">224√ó224√ó3 RGB</div>
                        </div>
                        <div style="background: #00a3c4; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">Conv2d + BN</div>
                            <div style="font-size: 0.9em;">Feature Extraktion</div>
                        </div>
                        <div style="background: #0097a7; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">Layer 1-4</div>
                            <div style="font-size: 0.9em;">Residual Blocks</div>
                        </div>
                        <div style="background: #008ba3; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">AdaptivePool</div>
                            <div style="font-size: 0.9em;">Global Pooling</div>
                        </div>
                        <div style="background: #00796b; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">FC Layer</div>
                            <div style="font-size: 0.9em;">3 Klassen Output</div>
                        </div>
                    </div>
                </div>
                
                <div class="explanation">
                    <strong>üîó Skip Connections:</strong> ResNet's revolution√§re "Abk√ºrzungen" erm√∂glichen Training sehr tiefer Netzwerke ohne Vanishing Gradient Problem
                </div>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    <h3>‚öôÔ∏è Training Pipeline</h3>
                    <p>üîÑ 6-Schritt Vollautomatisierung<br>1. Data Loading & Preprocessing<br>2. Model Setup<br>3. Training Loop<br>4. Validation & Early Stopping<br>5. Model Saving<br>6. Comprehensive Analysis</p>
                </div>
            </div>
            <div class="content-side">
                <h2>‚öôÔ∏è Training Pipeline</h2>
                <div class="step-card">
                    <span class="step-number">1</span>
                    <strong>Data Loading & Preprocessing:</strong> ImageFolder mit standardisierten Transformationen
                </div>
                
                <div class="step-card">
                    <span class="step-number">2</span>
                    <strong>Model Setup:</strong> ResNet18/50 mit Transfer Learning & angepasstem FC Layer
                </div>
                
                <div class="step-card">
                    <span class="step-number">3</span>
                    <strong>Training Loop:</strong> Forward/Backward Pass mit Loss & Accuracy Tracking
                </div>
                
                <div class="step-card">
                    <span class="step-number">4</span>
                    <strong>Validation & Early Stopping:</strong> Overfitting-Kontrolle mit Patience-Mechanismus
                </div>
                
                <div class="step-card">
                    <span class="step-number">5</span>
                    <strong>Model Saving:</strong> Zeitgestempelte .pt Dateien mit Metadaten
                </div>
                
                <div class="step-card">
                    <span class="step-number">6</span>
                    <strong>Comprehensive Analysis:</strong> 7 verschiedene Visualisierungs- & Analysemethoden
                </div>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    <h3>üéõÔ∏è Hyperparameter</h3>
                    <p>Batch Size: 128<br>Learning Rate: 1e-4<br>Max Epochen: 30<br>Zeitlimit: 30min<br>Early Stopping: 5<br>Num Workers: 14<br><br>Transformationen:<br>Resize, CenterCrop, ToTensor, Normalize</p>
                </div>
            </div>
            <div class="content-side">
                <h2>üéõÔ∏è Hyperparameter & Konfiguration</h2>
                <div class="highlight">
                    <h4>üîß Trainings-Parameter</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; margin: 15px 0;">
                        <div style="background: #00cec9; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 1.5em; font-weight: bold;">128</div>
                            <div style="font-size: 0.9em;">Batch Size</div>
                        </div>
                        <div style="background: #00a3c4; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 1.5em; font-weight: bold;">1e-4</div>
                            <div style="font-size: 0.9em;">Learning Rate</div>
                        </div>
                        <div style="background: #0097a7; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 1.5em; font-weight: bold;">30</div>
                            <div style="font-size: 0.9em;">Max Epochen</div>
                        </div>
                        <div style="background: #008ba3; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 1.5em; font-weight: bold;">30min</div>
                            <div style="font-size: 0.9em;">Zeitlimit</div>
                        </div>
                        <div style="background: #00796b; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 1.5em; font-weight: bold;">5</div>
                            <div style="font-size: 0.9em;">Early Stopping</div>
                        </div>
                        <div style="background: #004d40; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-size: 1.5em; font-weight: bold;">14</div>
                            <div style="font-size: 0.9em;">Num Workers</div>
                        </div>
                    </div>
                </div>
                
                <div class="explanation">
                    <strong>üé® Bild-Transformationen:</strong> Resize(256), CenterCrop(224), ToTensor(), Normalize(ImageNet) - Standard-Pipeline f√ºr ResNet-Training
                </div>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    <h3>üìä Erweiterte Analyse-Features</h3>
                    <p>üîç 7 Automatische Visualisierungen:<br>üìà Loss & Accuracy Kurven<br>üéØ Confusion Matrix<br>üìä ROC & PR Kurven<br>üì∏ Beispielbilder<br>üî• Grad-CAM Aktivierung<br>‚ùå Fehleranalyse<br>üéØ Spezifische Fehler</p>
                </div>
            </div>
            <div class="content-side">
                <h2>üìä Erweiterte Analyse-Features</h2>
                <div class="step-card">
                    <span class="step-number">üìà</span>
                    <strong>Loss & Accuracy Kurven:</strong> Training vs. Validation Performance √ºber alle Epochen mit Grid-Layout
                </div>
                
                <div class="step-card">
                    <span class="step-number">üéØ</span>
                    <strong>Confusion Matrix:</strong> Seaborn Heatmap zeigt Klassifikationsfehler pro Klasse mit Annotation
                </div>
                
                <div class="step-card">
                    <span class="step-number">üìä</span>
                    <strong>ROC & PR Kurven:</strong> Receiver Operating Characteristic & Precision-Recall f√ºr Binary Classification
                </div>
                
                <div class="step-card">
                    <span class="step-number">üì∏</span>
                    <strong>Beispielbilder mit Predictions:</strong> 8 Test-Bilder mit Grund-Wahrheit, Vorhersage und Konfidenz-Scores
                </div>
                
                <div class="step-card">
                    <span class="step-number">üî•</span>
                    <strong>Grad-CAM Aktivierungskarten:</strong> Visualisierung welche Bildregionen das Modell f√ºr Entscheidungen nutzt
                </div>
                
                <div class="step-card">
                    <span class="step-number">‚ùå</span>
                    <strong>Fehleranalyse:</strong> Alle falsch klassifizierten Bilder mit detaillierter Statistik nach Klassen
                </div>
                
                <div class="step-card">
                    <span class="step-number">üéØ</span>
                    <strong>Spezifische Fehler:</strong> Hard Negatives die f√§lschlicherweise als Riffbarsch erkannt wurden
                </div>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    <h3>üõ°Ô∏è Robuste Features</h3>
                    <p>‚è∞ Early Stopping Mechanismus<br>Automatisches Training-Stop<br>nach 5 Epochen ohne Verbesserung<br><br>Transfer Learning Setup<br>GPU/CPU Auto-Detection<br>Adam Optimizer</p>
                </div>
            </div>
            <div class="content-side">
                <h2>üõ°Ô∏è Robuste Training-Features</h2>
                <div class="highlight">
                    <h4>‚è∞ Early Stopping Mechanismus</h4>
                    <p>Automatisches Training-Stop nach 5 Epochen ohne Validation-Loss Verbesserung</p>
                    <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.9;">Verhindert Overfitting und spart Rechenzeit</p>
                </div>
                
                <div class="code-snippet">
# Transfer Learning Setup
model = models.resnet18(weights=ResNet18_Weights.DEFAULT)
num_ftrs = model.fc.in_features
model.fc = nn.Linear(num_ftrs, num_classes)  # 3 Klassen

# Adam Optimizer mit niedriger Learning Rate
optimizer = optim.Adam(model.parameters(), lr=1e-4)
criterion = nn.CrossEntropyLoss()

# GPU/CPU Auto-Detection
device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
                </div>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    <h3>üíæ Automatische Ausgaben</h3>
                    <p>üìÅ 8 Generierte Dateien:<br>üß† Model File (.pt)<br>üìä Loss/Accuracy (.png)<br>üéØ Confusion Matrix (.png)<br>üìà ROC Kurve (.png)<br>üîÑ PR Kurve (.png)<br>üì∏ Beispiele (.png)<br>üî• Grad-CAM (.png)<br>‚ùå Fehler-Bilder (.png)</p>
                </div>
            </div>
            <div class="content-side">
                <h2>üíæ Automatische Ausgaben</h2>
                <div class="highlight">
                    <h4>üìÅ Generierte Dateien (alle automatisch)</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; margin: 15px 0;">
                        <div style="background: #00cec9; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">üß† Model File</div>
                            <div style="font-size: 0.8em;">fisch_v2_Z30_DATUM_resnet.pt</div>
                        </div>
                        <div style="background: #00a3c4; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">üìä Loss/Accuracy</div>
                            <div style="font-size: 0.8em;">*_loss_acc.png</div>
                        </div>
                        <div style="background: #0097a7; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">üéØ Confusion Matrix</div>
                            <div style="font-size: 0.8em;">*_confusion.png</div>
                        </div>
                        <div style="background: #008ba3; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">üìà ROC Kurve</div>
                            <div style="font-size: 0.8em;">*_roc.png</div>
                        </div>
                        <div style="background: #00796b; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">üîÑ PR Kurve</div>
                            <div style="font-size: 0.8em;">*_pr.png</div>
                        </div>
                        <div style="background: #004d40; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">üì∏ Beispiele</div>
                            <div style="font-size: 0.8em;">*_examples.png</div>
                        </div>
                        <div style="background: #00251a; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">üî• Grad-CAM</div>
                            <div style="font-size: 0.8em;">*_gradcam.png</div>
                        </div>
                        <div style="background: #1b5e20; color: white; padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="font-weight: bold;">‚ùå Fehler-Bilder</div>
                            <div style="font-size: 0.8em;">*_falsch_klassifiziert.png</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    <h3>ü§ñ Deep Learning Konzepte</h3>
                    <p>Transfer Learning<br>Grad-CAM Visualisierung<br>CrossEntropyLoss<br>Residual Connections<br>Feature Extraction<br>Multi-Class Classification</p>
                </div>
            </div>
            <div class="content-side">
                <h2>ü§ñ Deep Learning Konzepte</h2>
                <div class="explanation">
                    <strong>Transfer Learning:</strong> Statt von Null zu beginnen, verwenden wir ein auf ImageNet vortrainiertes ResNet. Das Modell kennt bereits grundlegende Bildfeatures (Kanten, Texturen, Formen) und muss nur die letzten Schichten f√ºr unsere spezifischen Klassen anpassen.
                </div>
                
                <div class="explanation">
                    <strong>Grad-CAM (Gradient-weighted Class Activation Mapping):</strong> Visualisierungstechnik, die zeigt, welche Bildregionen das Modell f√ºr seine Entscheidung betrachtet. Wie ein Highlight-Marker, der die wichtigsten Stellen im Bild markiert.
                </div>

                <div class="explanation">
                    <strong>CrossEntropyLoss:</strong> Standard-Loss-Funktion f√ºr Multi-Class Classification. Bestraft falsche Vorhersagen exponentiell st√§rker als richtige und f√∂rdert hohe Konfidenz bei korrekten Predictions.
                </div>
            </div>
        </div>

        <div class="section">
            <div class="visual-side">
                <div class="visual-placeholder">
                    <h3>üí° Warum diese Pipeline?</h3>
                    <p>üöÄ Produktionsreif<br>üîç Vollst√§ndige Diagnose<br>‚ö° GPU-Optimiert<br>üéØ Interpretierbar<br><br>Zeitlimits, Error Handling<br>7 Analysemethoden<br>Multi-Threading<br>Grad-CAM Erkl√§rbbarkeit</p>
                </div>
            </div>
            <div class="content-side">
                <h2>üí° Warum diese Pipeline?</h2>
                <div class="step-card">
                    <span class="step-number">üöÄ</span>
                    <strong>Produktionsreif:</strong> Zeitlimits, Error Handling, automatische Speicherung - bereit f√ºr reale Anwendungen
                </div>
                
                <div class="step-card">
                    <span class="step-number">üîç</span>
                    <strong>Vollst√§ndige Diagnose:</strong> 7 verschiedene Analysemethoden decken alle Aspekte der Modell-Performance ab
                </div>
                
                <div class="step-card">
                    <span class="step-number">‚ö°</span>
                    <strong>GPU-Optimiert:</strong> Pin Memory, Multi-Threading (14 Workers), CUDA-Support f√ºr maximale Performance
                </div>
                
                <div class="step-card">
                    <span class="step-number">üéØ</span>
                    <strong>Interpretierbar:</strong> Grad-CAM zeigt genau, warum das Modell bestimmte Entscheidungen trifft
                </div>
            </div>
        </div>
    </div>
</body>
</html>
